<!DOCTYPE html>
<html>
<head>
<title>AI Privacy Insights</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/11.7.0/math.js" type="text/javascript"></script>
<style>
html,body,h1,h2,h3,h4 {font-family:"Lato", sans-serif}
.mySlides {display:none}
.w3-tag, .fa {cursor:pointer}
.w3-tag {height:15px;width:15px;padding:0;margin-top:6px}
</style>
</head>
<body>

<!-- Links (sit on top) -->
<div class="w3-top">
  <div class="w3-row w3-large w3-light-grey">
    <div class="w3-col s3">
      <a href="#" class="w3-button w3-block">Home</a>
    </div>
    <div class="w3-col s3">
      <a href="#attribute-inference" class="w3-button w3-block">Data-dependent privacy analysis</a>
    </div>
    <div class="w3-col s3">
      <a href="#about" class="w3-button w3-block">About</a>
    </div>
    <div class="w3-col s3">
      <a href="#contact" class="w3-button w3-block">Contact</a>
    </div>
  </div>
</div>

<!-- Content -->
<div class="w3-content" style="max-width:1100px;margin-top:80px;margin-bottom:80px">

  <div class="w3-panel">
    <h1><b>AI Privacy Insights</b></h1>
  </div>

  <!-- Grid -->
  <div class="w3-row w3-container">
    <div class="w3-center w3-padding-64">
      <span class="w3-xlarge w3-bottombar w3-border-dark-grey w3-padding-16">DP-SGD Privacy Calculator</span>
    </div>
    <p>DP-SGD is an algorithm used for training Neural Network learning models. As a part of training, DP-SGD adds noise to preserve the privacy of individual records. More noise implies better security, but it comes with a utility cost: the model will be less accurate.</p>
    <p>Until now, it was unclear how the noise level affected the risk for individual users.</p>
    <p>The interactive tool below gives guidance to tailor the DP-SGD parameters to achieve good level of privacy on a <i>per-case</i> basis.</p>
    <iframe src="plot.html" width="100%" height="500px" frameborder="0" scrolling="no" style="text-align:center" align="center"></iframe>

  <!-- Grid -->
  <div class="w3-row-padding" id="about">
    <div class="w3-center w3-padding-64">
      <span class="w3-xlarge w3-bottombar w3-border-dark-grey w3-padding-16">Interpretation</span>
    </div>

    <p>Bayes security measures the advantage of an adversary wishing to perform the attack <i>with</i> access to the trained model, versus an adversary who has no access to it and merely exploits their prior knowledge. A value of "1", perfect security, means that the former adversary has no advantage on the latter.</p>
    <p>The privacy metric employed can be matched to intuitive metrics, as shown below.</p>
    <p>First, select the value of Bayes security (e.g., as obtained in the graph above) that you would like to interpret.</p>
    <input id="beta_input" type="range" min="0" max="1" step="0.01" value="1"/>
    <p>Bayes security: <output id="beta_value"></output></p>


    <div>
      <b>Probability that an attack will succeed</b>
      <p>To compute this, you need to decide the <i>prior</i> probability of the attack happening. If the attacker did not have any access to the trained model, how likely would they be to guess whether some data was used or not for training the model?</p>
      <input id="pi_input" type="range" min="0" max="1" step="0.01" value="0.5"/>
      <p>Prior probability: <output id="pi_value"></output></p>
      <p>Bayes security <output id="beta_value"></output> with prior probability <output id="pi_value"></output> means that the attacker is at most <b></b><output id="vulnerability">50</output>% likely to succeed in this attack</b>.
      </div>

    <div>
      <b>True positive rate at chosen false positive rate (TPR @ FPR)</b>
      <p>Another way of interpreting Bayes security is by matching it to TPR @ FPR. Intuitively, a good attack is one that <i>confidently</i> makes good predictions. This can be represented by fixing a low level of False Positives that they are allowed to commit (e.g., 10%), and to measure the respective True Positive rate.</p>

      <p>Select the desired False Positives rate:</p>
      <input id="fpr_input" type="range" min="0" max="50" step="1" value="10"/>
      <p>FPR (%): <output id="fpr_value"></output></p>

      <p>Bayes security <output id="beta_value"></output> means that an attacker aiming at <output id="fpr_value">10</output>% FPR will achieve at best <output id="tpr">10</output>% TPR.</p>
    </div>


      <!-- JS to get the above sliders to work. -->
      <script>
        const beta_value = document.querySelector("#beta_value")
        const beta_input = document.querySelector("#beta_input")
        const pi_value = document.querySelector("#pi_value")
        const pi_input = document.querySelector("#pi_input")
        const fpr_value = document.querySelector("#fpr_value")
        const fpr_input = document.querySelector("#fpr_input")
        const vulnerability = document.querySelector("#vulnerability")
        const tpr = document.querySelector("#tpr")

        const beta_bound = function(beta, pi) {
          return math.round(beta*math.min(pi, 1-pi)*100);
        }

        const tpr_bound = function(beta, fpr) {
          return math.round((1+fpr/100-beta)*100);
        }

        beta_value.textContent = beta_input.value
        beta_input.addEventListener("input", (event) => {
          beta_value.textContent = event.target.value
          vulnerability.textContent = beta_bound(beta_input.value, pi_input.value)
          tpr.textContent = tpr_bound(beta_input.value, fpr_input.value)
        })

        pi_value.textContent = pi_input.value
        pi_input.addEventListener("input", (event) => {
        pi_value.textContent = event.target.value
        vulnerability.textContent = beta_bound(beta_input.value, pi_input.value)
        })

        fpr_value.textContent = fpr_input.value
        fpr_input.addEventListener("input", (event) => {
          fpr_value.textContent = event.target.value
          tpr.textContent = tpr_bound(beta_input.value, fpr_input.value)
        })
      </script>

    </div>

  <!-- Grid -->
  <div class="w3-row-padding" id="about">
    <div class="w3-center w3-padding-64">
      <span class="w3-xlarge w3-bottombar w3-border-dark-grey w3-padding-16">Tailoring the security analysis to your data</span>
    </div>

    <p>Sometimes, the attacker considered above may be <i>too strong</i>. Consider the following attack instead: an attacker, who knows partial information about a user's data record, aims at reconstructing the remaining features. This is called <i>attribute inference</i>.</p>
    <p>We developed a tool that enables quantifying the risk against attribute inference. This analysis is data-dependent: this means that, if the data is not vulnerable in the first place, one can get away with a much better utility (e.g., model accuracy).</p>

    <b>TODO: show potential of this tool via some plots?</b>

    <p>So far, our toolbox does not support a data-dependent analysis against membership inference</p>

  </div>

  <!-- Grid -->
  <div class="w3-row-padding" id="attribute-inference">
    <div class="w3-center w3-padding-64">
      <span class="w3-xlarge w3-bottombar w3-border-dark-grey w3-padding-16">Who We Are</span>
    </div>

    <p>The above tool is based on recent research by the Microsoft Security Response Centre (MSRC), the Azure Research, and M365 Research. It is based on their original finding that the privacy of DP-SGD can be expressed as a closed-form expression.</p>

    <p class="w3-text-red">Microsoft internal tool only</p>
    <p>For more details, please refer to the <a href="/bayessgd.pdf">Bayes-SGD paper</a>.</p>


  </div>



</div>

<!-- Footer -->

<footer class="w3-container w3-padding-32 w3-light-grey w3-center">
  <h4>Footer</h4>
  <a href="#" class="w3-button w3-black w3-margin"><i class="fa fa-arrow-up w3-margin-right"></i>To the top</a>
  <p>Powered by <a href="https://www.w3schools.com/w3css/default.asp" title="W3.CSS" target="_blank" class="w3-hover-text-green">w3.css</a></p>
</footer>


<script>
// Slideshow
var slideIndex = 1;
showDivs(slideIndex);

function plusDivs(n) {
  showDivs(slideIndex += n);
}

function currentDiv(n) {
  showDivs(slideIndex = n);
}

function showDivs(n) {
  var i;
  var x = document.getElementsByClassName("mySlides");
  var dots = document.getElementsByClassName("demodots");
  if (n > x.length) {slideIndex = 1}
  if (n < 1) {slideIndex = x.length} ;
  for (i = 0; i < x.length; i++) {
    x[i].style.display = "none";
  }
  for (i = 0; i < dots.length; i++) {
    dots[i].className = dots[i].className.replace(" w3-white", "");
  }
  x[slideIndex-1].style.display = "block";
  dots[slideIndex-1].className += " w3-white";
}
</script>

</body>
</html>
